"use strict";function inizializza(){var t=$("#api-frame")[0],e="1.0.0",a="9c1e7cfb2f734c3fa0425379578bcef3",c=null;caricaModello(t,e,a,c),$(".carica").on("click tap",function(){caricaModello(t,e,a,c),$(".player__lettore").hasClass("player__lettore--invisibile")&&$(".player__lettore").removeClass("player__lettore--invisibile")})}function caricaModello(t,e,a,c){var o=!1;c=new Sketchfab(e,t),c.init(a,{success:function(t){t.load(),t.start(),t.addEventListener("viewerready",function(){$(".player__lettore").removeClass("player__lettore--invisibile"),$(".play").on("click tap",function(){t.start()}),$(".stop").on("click tap",function(){t.stop()}),$(".fov").on("click tap",function(){t.setFov(60)}),$(".prospettiva").on("click tap",function(){t.lookat([10,13,10],[10,10,10],5.5)}),$(".panoramica").on("click tap",function(){var e=[0,0,1],a=[{eye:[2,0,0]},{eye:[1,1,0]},{eye:[0,2,0]},{eye:[-1,1,0]},{eye:[-2,0,0]},{eye:[-1,-1,0]},{eye:[0,-2,0]},{eye:[1,-1,0]}],c=5,o=function o(){c++,t.lookat(a[c%8].eye,e,4),setTimeout(o,5e3)};t.start(o)}),$(".screenshot").on("click tap",function(){t.getScreenShot("image/png",function(t,e){var a=$("#api-frame").height(),c=$("#api-frame").width();a<100&&(a=100),c>100&&(c=100),$(window)[0].open(e,"_blank","height = "+a+", width = "+c)})}),$(".navigazione").on("click tap",function(){o?($(this).html("Navigazione libera"),$(".player").removeClass("libera"),$(".player::before").css("visibility","hidden"),o=!1):($(".player::before").css("visibility","visible"),$(".player").addClass("libera"),$(this).html("Navigazione libera (attiva)"),o=!0)}),$("body").on("mousemove",function(e){if($(".player").hasClass("libera")){var a=$("#api-frame").position().left+$("#api-frame").width()/2,c=$("#api-frame").position().top+$("#api-frame").height()/2,o=e.pageX-a,i=e.pageY-c,n=2,r=Math.sqrt(Math.pow(o,2)+Math.pow(i,2)+Math.pow(n,2));o=o/r*6,i=i/r*6,n=n/r*6,t.lookat([i,-o,n],[0,0,0],0)}}),$(".oggetti").on("click tap",function(){t.getNodeMap(function(t,e){t||(console.log(e),$(".output").empty(),$.each(e,function(t,e){$(".output").append(e.name+" | ID: "+e.instanceID+"<br />")}))})}),$(".nascosto").on("click tap",function(){t.hide("76")}),$(".mostra").on("click tap",function(){t.show("76")}),$(".grafo").on("click tap",function(){var e=t.getSceneGraph();console.log(e),$(".output").empty(),$(".output").append(e)}),$(".texture").on("click tap",function(){t.getTextureList(function(t,e){t||(console.log(e),$(".output").empty(),$.each(e,function(t,e){$(".output").append(e.name+" | UID: "+e.uid+"<br />")}))})}),$(".texture-cambia").on("click tap",function(){var e=null,a=null;switch($(this).attr("data-text")){case"marmo":e="https://media.sketchfab.com/urls/9c1e7cfb2f734c3fa0425379578bcef3/dist/textures/7853c7fb6e3e4a01a406012949b26070/fccbc92f7d4844508b0d10f0984734d4.jpg",a="7853c7fb6e3e4a01a406012949b26070";break;case"chiaro":e="https://media.sketchfab.com/urls/9c1e7cfb2f734c3fa0425379578bcef3/dist/textures/c511c36f5e4f4279bed11cf319cfc719/24b29ac0ffe444b581127af2efb8fb4a.png",a="7853c7fb6e3e4a01a406012949b26070";break;case"scuro":e="https://media.sketchfab.com/urls/9c1e7cfb2f734c3fa0425379578bcef3/dist/textures/7853c7fb6e3e4a01a406012949b26070/fccbc92f7d4844508b0d10f0984734d4.jpg",a="c511c36f5e4f4279bed11cf319cfc719";break;case"oro":e="https://media.sketchfab.com/urls/9c1e7cfb2f734c3fa0425379578bcef3/dist/textures/c511c36f5e4f4279bed11cf319cfc719/24b29ac0ffe444b581127af2efb8fb4a.png",a="c511c36f5e4f4279bed11cf319cfc719"}t.updateTexture(e,a,function(t,c){t||(console.log(c,e,a),$(".output").empty(),$(".output").append("Texture aggiornata con uid: "+c))})}),$(".materiali").on("click tap",function(){t.getMaterialList(function(t,e){t||(console.log(e),$(".output").empty(),$.each(e,function(t,e){$(".output").append(e.name+" | stateSetID: "+e.stateSetID+"<br />")}))})}),$(".aggiorna").on("click tap",function(){t.getMaterialList(function(e,a){var c=a[0];c.channels.Opacity.enable=!0,c.channels.Opacity.factor=0,console.log(c),t.setMaterial(c,function(){$(".output").empty(),$(".output").append("Opacit√† azzerata su "+c.name)})})}),$(".reset").on("click tap",function(){t.getMaterialList(function(e,a){var c=a[0];c.channels.Opacity.enable=!1,c.channels.Opacity.factor=1,console.log(c),t.setMaterial(c,function(){$(".output").empty(),$(".output").append("Valori di default su "+c.name)})})}),$(".filtri").on("click tap",function(){t.getPostProcessing(function(t){console.log(t),$(".output").empty(),$.each(t,function(t,e){$(".output").append(t+" | "+e+"<br />")})})}),$(".modifica").on("click tap",function(){t.setPostProcessing({sharpenEnable:!1,rgbmDefault:3,rgbmBloom:2,grainEnable:!0,chromaticAberrationEnable:!0}),$(".output").empty(),$(".output").append("sharpenEnable disattivato<br />rgbmDefault: 3<br />rgbmBloom: 2<br />grainEnable: true<br />chromaticAberrationEnable: true")})})},error:function(t){$("aside").append(t)},annotation:1,annotation_cycle:0,annotations_visible:1,autospin:0,autostart:1,camera:1,fps_speed:60,preload:1,scrollwheel:1,ui_stop:0})}$(document).ready(function(){inizializza()});
//# sourceMappingURL=main.js.map
